
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../activity/">
      
      
        <link rel="next" href="../location/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>pam.core - Population Activity Modeller (PAM)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../static/extras.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pam.core" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Population Activity Modeller (PAM)" class="md-header__button md-logo" aria-label="Population Activity Modeller (PAM)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Population Activity Modeller (PAM)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              pam.core
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/arup-group/pam/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Population Activity Modeller (PAM)" class="md-nav__button md-logo" aria-label="Population Activity Modeller (PAM)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Population Activity Modeller (PAM)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/arup-group/pam/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../read_data/" class="md-nav__link">
        Reading data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../activity_plans/" class="md-nav__link">
        Activity plans
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../modelling_policy_impact/" class="md-nav__link">
        Modelling the impact of policies on populations
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/01_PAM_Getting_Started/" class="md-nav__link">
        PAM Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/02_Population_Basics/" class="md-nav__link">
        Population Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/03_Example_Generate_Random_Population/" class="md-nav__link">
        Example Generate Random Population
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/04_Example_Ingest_NTS_Diaries/" class="md-nav__link">
        Example Ingest NTS Diaries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/05_PAM_Policies_Walk_Through/" class="md-nav__link">
        PAM Policies Walk Through
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/06_PAM_Complex_Policies/" class="md-nav__link">
        PAM Complex Policies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/07_PAM_Point_Sampling/" class="md-nav__link">
        PAM Point Sampling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/08_PAM_Population_Activity_Plots/" class="md-nav__link">
        PAM Population Activity Plots
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/09_Travel_Plots/" class="md-nav__link">
        Travel Plots
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/10_Advanced_Spatial-Sampling_Demo/" class="md-nav__link">
        Advanced Spatial-Sampling Demo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/11_Advanced_Plan_Rescheduling/" class="md-nav__link">
        Advanced Plan Rescheduling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/12_Advanced_Adding_Vehicles/" class="md-nav__link">
        Advanced Adding Vehicles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/13_Advanced_Freight_Synthesis/" class="md-nav__link">
        Advanced Freight Synthesis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/14_Advanced_Plan_Cropping/" class="md-nav__link">
        Advanced Plan Cropping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/15_Advanced_Choice/" class="md-nav__link">
        Advanced Choice
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../get_involved/" class="md-nav__link">
        Get involved
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        CLI Reference
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scoring/" class="md-nav__link">
        pam.scoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vehicle/" class="md-nav__link">
        pam.vehicle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../activity/" class="md-nav__link">
        pam.activity
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          pam.core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        pam.core
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pam.core" class="md-nav__link">
    pam.core
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pam.core.Household" class="md-nav__link">
    Household
  </a>
  
    <nav class="md-nav" aria-label="Household">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.activities" class="md-nav__link">
    activities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.activity_classes" class="md-nav__link">
    activity_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.attributes" class="md-nav__link">
    attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.av_person_freq" class="md-nav__link">
    av_person_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.freq" class="md-nav__link">
    freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.hh_freq" class="md-nav__link">
    hh_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.hid" class="md-nav__link">
    hid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.legs" class="md-nav__link">
    legs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.location" class="md-nav__link">
    location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.mode_classes" class="md-nav__link">
    mode_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.people" class="md-nav__link">
    people
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.subpopulation" class="md-nav__link">
    subpopulation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.add" class="md-nav__link">
    add()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.build_travel_geodataframe" class="md-nav__link">
    build_travel_geodataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.fix_plans" class="md-nav__link">
    fix_plans()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.get_attribute" class="md-nav__link">
    get_attribute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.pickle" class="md-nav__link">
    pickle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.plot" class="md-nav__link">
    plot()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.plot_travel_plotly" class="md-nav__link">
    plot_travel_plotly()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.print" class="md-nav__link">
    print()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.random_person" class="md-nav__link">
    random_person()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.reindex" class="md-nav__link">
    reindex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.set_area" class="md-nav__link">
    set_area()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.set_freq" class="md-nav__link">
    set_freq()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.set_loc" class="md-nav__link">
    set_loc()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.set_location" class="md-nav__link">
    set_location()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.shared_activities" class="md-nav__link">
    shared_activities()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.size" class="md-nav__link">
    size()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pam.core.Person" class="md-nav__link">
    Person
  </a>
  
    <nav class="md-nav" aria-label="Person">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.activities" class="md-nav__link">
    activities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.activity_classes" class="md-nav__link">
    activity_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.acts" class="md-nav__link">
    acts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.attributes" class="md-nav__link">
    attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.av_activity_freq" class="md-nav__link">
    av_activity_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.av_trip_freq" class="md-nav__link">
    av_trip_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.closed_plan" class="md-nav__link">
    closed_plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.first_activity" class="md-nav__link">
    first_activity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.freq" class="md-nav__link">
    freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.has_valid_plan" class="md-nav__link">
    has_valid_plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.home" class="md-nav__link">
    home
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.home_based" class="md-nav__link">
    home_based
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.home_location" class="md-nav__link">
    home_location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.last_activity" class="md-nav__link">
    last_activity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.last_component" class="md-nav__link">
    last_component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.last_leg" class="md-nav__link">
    last_leg
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.legs" class="md-nav__link">
    legs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.length" class="md-nav__link">
    length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.mode_classes" class="md-nav__link">
    mode_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.num_activities" class="md-nav__link">
    num_activities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.num_legs" class="md-nav__link">
    num_legs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.person_freq" class="md-nav__link">
    person_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.pid" class="md-nav__link">
    pid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.plan" class="md-nav__link">
    plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.plans_non_selected" class="md-nav__link">
    plans_non_selected
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.subpopulation" class="md-nav__link">
    subpopulation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.vehicle" class="md-nav__link">
    vehicle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.add" class="md-nav__link">
    add()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.assign_vehicle" class="md-nav__link">
    assign_vehicle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.build_travel_geodataframe" class="md-nav__link">
    build_travel_geodataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.clear_plan" class="md-nav__link">
    clear_plan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.fill_plan" class="md-nav__link">
    fill_plan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.finalise" class="md-nav__link">
    finalise()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.fix_plan" class="md-nav__link">
    fix_plan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.move_activity" class="md-nav__link">
    move_activity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.pickle" class="md-nav__link">
    pickle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.plot" class="md-nav__link">
    plot()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.plot_travel_plotly" class="md-nav__link">
    plot_travel_plotly()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.print" class="md-nav__link">
    print()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.reindex" class="md-nav__link">
    reindex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.remove_activity" class="md-nav__link">
    remove_activity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.set_area" class="md-nav__link">
    set_area()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.set_freq" class="md-nav__link">
    set_freq()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.set_loc" class="md-nav__link">
    set_loc()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.set_location" class="md-nav__link">
    set_location()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.stay_at_home" class="md-nav__link">
    stay_at_home()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.validate_locations" class="md-nav__link">
    validate_locations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.validate_sequence" class="md-nav__link">
    validate_sequence()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.validate_times" class="md-nav__link">
    validate_times()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pam.core.Population" class="md-nav__link">
    Population
  </a>
  
    <nav class="md-nav" aria-label="Population">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.activity_classes" class="md-nav__link">
    activity_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.attributes" class="md-nav__link">
    attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.freq" class="md-nav__link">
    freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.has_electric_vehicles" class="md-nav__link">
    has_electric_vehicles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.has_uniquely_indexed_vehicle_types" class="md-nav__link">
    has_uniquely_indexed_vehicle_types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.has_vehicles" class="md-nav__link">
    has_vehicles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.households" class="md-nav__link">
    households
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.mode_classes" class="md-nav__link">
    mode_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.num_households" class="md-nav__link">
    num_households
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.population" class="md-nav__link">
    population
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.stats" class="md-nav__link">
    stats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.subpopulations" class="md-nav__link">
    subpopulations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.add" class="md-nav__link">
    add()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.add_fields" class="md-nav__link">
    add_fields()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.build_travel_geodataframe" class="md-nav__link">
    build_travel_geodataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.combine" class="md-nav__link">
    combine()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.electric_vehicle_charger_types" class="md-nav__link">
    electric_vehicle_charger_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.electric_vehicles" class="md-nav__link">
    electric_vehicles()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.fix_plans" class="md-nav__link">
    fix_plans()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.legs_df" class="md-nav__link">
    legs_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.people" class="md-nav__link">
    people()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.pickle" class="md-nav__link">
    pickle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.plans" class="md-nav__link">
    plans()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.plot_travel_plotly" class="md-nav__link">
    plot_travel_plotly()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.print" class="md-nav__link">
    print()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.random_household" class="md-nav__link">
    random_household()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.random_person" class="md-nav__link">
    random_person()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.reindex" class="md-nav__link">
    reindex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.sample_locs" class="md-nav__link">
    sample_locs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.sample_locs_complex" class="md-nav__link">
    sample_locs_complex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.to_csv" class="md-nav__link">
    to_csv()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.trips_df" class="md-nav__link">
    trips_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.vehicle_types" class="md-nav__link">
    vehicle_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.vehicles" class="md-nav__link">
    vehicles()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../location/" class="md-nav__link">
        pam.location
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        pam.utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_7" >
      
      
      
        <label class="md-nav__link" for="__nav_9_7" id="__nav_9_7_label" tabindex="0">
          pam.write
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_7">
          <span class="md-nav__icon md-icon"></span>
          pam.write
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../write/matrices/" class="md-nav__link">
        pam.write.matrices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../write/diary/" class="md-nav__link">
        pam.write.diary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../write/matsim/" class="md-nav__link">
        pam.write.matsim
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_8" >
      
      
      
        <label class="md-nav__link" for="__nav_9_8" id="__nav_9_8_label" tabindex="0">
          pam.plot
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_8">
          <span class="md-nav__icon md-icon"></span>
          pam.plot
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plot/stats/" class="md-nav__link">
        pam.plot.stats
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plot/plans/" class="md-nav__link">
        pam.plot.plans
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9_9" id="__nav_9_9_label" tabindex="0">
          pam.optimise
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_9">
          <span class="md-nav__icon md-icon"></span>
          pam.optimise
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../optimise/grid/" class="md-nav__link">
        pam.optimise.grid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../optimise/random/" class="md-nav__link">
        pam.optimise.random
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_10" >
      
      
      
        <label class="md-nav__link" for="__nav_9_10" id="__nav_9_10_label" tabindex="0">
          pam.array
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_10">
          <span class="md-nav__icon md-icon"></span>
          pam.array
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../array/encode/" class="md-nav__link">
        pam.array.encode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../array/distance/" class="md-nav__link">
        pam.array.distance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../array/decode/" class="md-nav__link">
        pam.array.decode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_11" >
      
      
      
        <label class="md-nav__link" for="__nav_9_11" id="__nav_9_11_label" tabindex="0">
          pam.planner
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_11">
          <span class="md-nav__icon md-icon"></span>
          pam.planner
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../planner/od/" class="md-nav__link">
        pam.planner.od
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../planner/clustering/" class="md-nav__link">
        pam.planner.clustering
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../planner/encoder/" class="md-nav__link">
        pam.planner.encoder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../planner/utils_planner/" class="md-nav__link">
        pam.planner.utils_planner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../planner/choice_location/" class="md-nav__link">
        pam.planner.choice_location
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../planner/zones/" class="md-nav__link">
        pam.planner.zones
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_12" >
      
      
      
        <label class="md-nav__link" for="__nav_9_12" id="__nav_9_12_label" tabindex="0">
          pam.read
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_12">
          <span class="md-nav__icon md-icon"></span>
          pam.read
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../read/diary/" class="md-nav__link">
        pam.read.diary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../read/matsim/" class="md-nav__link">
        pam.read.matsim
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_13" >
      
      
      
        <label class="md-nav__link" for="__nav_9_13" id="__nav_9_13_label" tabindex="0">
          pam.operations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_13_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_13">
          <span class="md-nav__icon md-icon"></span>
          pam.operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../operations/cropping/" class="md-nav__link">
        pam.operations.cropping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../operations/combine/" class="md-nav__link">
        pam.operations.combine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_14" >
      
      
      
        <label class="md-nav__link" for="__nav_9_14" id="__nav_9_14_label" tabindex="0">
          pam.samplers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_14_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_14">
          <span class="md-nav__icon md-icon"></span>
          pam.samplers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../samplers/time/" class="md-nav__link">
        pam.samplers.time
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../samplers/attributes/" class="md-nav__link">
        pam.samplers.attributes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../samplers/population/" class="md-nav__link">
        pam.samplers.population
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../samplers/spatial/" class="md-nav__link">
        pam.samplers.spatial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../samplers/facility/" class="md-nav__link">
        pam.samplers.facility
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../samplers/basic/" class="md-nav__link">
        pam.samplers.basic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../samplers/tour/" class="md-nav__link">
        pam.samplers.tour
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_15" >
      
      
      
        <label class="md-nav__link" for="__nav_9_15" id="__nav_9_15_label" tabindex="0">
          pam.report
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_15_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_15">
          <span class="md-nav__icon md-icon"></span>
          pam.report
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../report/stringify/" class="md-nav__link">
        pam.report.stringify
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../report/summary/" class="md-nav__link">
        pam.report.summary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../report/benchmarks/" class="md-nav__link">
        pam.report.benchmarks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_16" >
      
      
      
        <label class="md-nav__link" for="__nav_9_16" id="__nav_9_16_label" tabindex="0">
          pam.policy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_16_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_16">
          <span class="md-nav__icon md-icon"></span>
          pam.policy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../policy/probability_samplers/" class="md-nav__link">
        pam.policy.probability_samplers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../policy/modifiers/" class="md-nav__link">
        pam.policy.modifiers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../policy/policies/" class="md-nav__link">
        pam.policy.policies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../policy/filters/" class="md-nav__link">
        pam.policy.filters
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pam.core" class="md-nav__link">
    pam.core
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pam.core.Household" class="md-nav__link">
    Household
  </a>
  
    <nav class="md-nav" aria-label="Household">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.activities" class="md-nav__link">
    activities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.activity_classes" class="md-nav__link">
    activity_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.attributes" class="md-nav__link">
    attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.av_person_freq" class="md-nav__link">
    av_person_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.freq" class="md-nav__link">
    freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.hh_freq" class="md-nav__link">
    hh_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.hid" class="md-nav__link">
    hid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.legs" class="md-nav__link">
    legs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.location" class="md-nav__link">
    location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.mode_classes" class="md-nav__link">
    mode_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.people" class="md-nav__link">
    people
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.subpopulation" class="md-nav__link">
    subpopulation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.add" class="md-nav__link">
    add()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.build_travel_geodataframe" class="md-nav__link">
    build_travel_geodataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.fix_plans" class="md-nav__link">
    fix_plans()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.get_attribute" class="md-nav__link">
    get_attribute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.pickle" class="md-nav__link">
    pickle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.plot" class="md-nav__link">
    plot()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.plot_travel_plotly" class="md-nav__link">
    plot_travel_plotly()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.print" class="md-nav__link">
    print()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.random_person" class="md-nav__link">
    random_person()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.reindex" class="md-nav__link">
    reindex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.set_area" class="md-nav__link">
    set_area()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.set_freq" class="md-nav__link">
    set_freq()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.set_loc" class="md-nav__link">
    set_loc()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.set_location" class="md-nav__link">
    set_location()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.shared_activities" class="md-nav__link">
    shared_activities()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Household.size" class="md-nav__link">
    size()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pam.core.Person" class="md-nav__link">
    Person
  </a>
  
    <nav class="md-nav" aria-label="Person">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.activities" class="md-nav__link">
    activities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.activity_classes" class="md-nav__link">
    activity_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.acts" class="md-nav__link">
    acts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.attributes" class="md-nav__link">
    attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.av_activity_freq" class="md-nav__link">
    av_activity_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.av_trip_freq" class="md-nav__link">
    av_trip_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.closed_plan" class="md-nav__link">
    closed_plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.first_activity" class="md-nav__link">
    first_activity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.freq" class="md-nav__link">
    freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.has_valid_plan" class="md-nav__link">
    has_valid_plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.home" class="md-nav__link">
    home
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.home_based" class="md-nav__link">
    home_based
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.home_location" class="md-nav__link">
    home_location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.last_activity" class="md-nav__link">
    last_activity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.last_component" class="md-nav__link">
    last_component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.last_leg" class="md-nav__link">
    last_leg
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.legs" class="md-nav__link">
    legs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.length" class="md-nav__link">
    length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.mode_classes" class="md-nav__link">
    mode_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.num_activities" class="md-nav__link">
    num_activities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.num_legs" class="md-nav__link">
    num_legs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.person_freq" class="md-nav__link">
    person_freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.pid" class="md-nav__link">
    pid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.plan" class="md-nav__link">
    plan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.plans_non_selected" class="md-nav__link">
    plans_non_selected
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.subpopulation" class="md-nav__link">
    subpopulation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.vehicle" class="md-nav__link">
    vehicle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.add" class="md-nav__link">
    add()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.assign_vehicle" class="md-nav__link">
    assign_vehicle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.build_travel_geodataframe" class="md-nav__link">
    build_travel_geodataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.clear_plan" class="md-nav__link">
    clear_plan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.fill_plan" class="md-nav__link">
    fill_plan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.finalise" class="md-nav__link">
    finalise()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.fix_plan" class="md-nav__link">
    fix_plan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.move_activity" class="md-nav__link">
    move_activity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.pickle" class="md-nav__link">
    pickle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.plot" class="md-nav__link">
    plot()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.plot_travel_plotly" class="md-nav__link">
    plot_travel_plotly()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.print" class="md-nav__link">
    print()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.reindex" class="md-nav__link">
    reindex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.remove_activity" class="md-nav__link">
    remove_activity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.set_area" class="md-nav__link">
    set_area()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.set_freq" class="md-nav__link">
    set_freq()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.set_loc" class="md-nav__link">
    set_loc()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.set_location" class="md-nav__link">
    set_location()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.stay_at_home" class="md-nav__link">
    stay_at_home()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.validate_locations" class="md-nav__link">
    validate_locations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.validate_sequence" class="md-nav__link">
    validate_sequence()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Person.validate_times" class="md-nav__link">
    validate_times()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pam.core.Population" class="md-nav__link">
    Population
  </a>
  
    <nav class="md-nav" aria-label="Population">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.activity_classes" class="md-nav__link">
    activity_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.attributes" class="md-nav__link">
    attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.freq" class="md-nav__link">
    freq
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.has_electric_vehicles" class="md-nav__link">
    has_electric_vehicles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.has_uniquely_indexed_vehicle_types" class="md-nav__link">
    has_uniquely_indexed_vehicle_types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.has_vehicles" class="md-nav__link">
    has_vehicles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.households" class="md-nav__link">
    households
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.mode_classes" class="md-nav__link">
    mode_classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.num_households" class="md-nav__link">
    num_households
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.population" class="md-nav__link">
    population
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.stats" class="md-nav__link">
    stats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.subpopulations" class="md-nav__link">
    subpopulations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.add" class="md-nav__link">
    add()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.add_fields" class="md-nav__link">
    add_fields()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.build_travel_geodataframe" class="md-nav__link">
    build_travel_geodataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.combine" class="md-nav__link">
    combine()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.electric_vehicle_charger_types" class="md-nav__link">
    electric_vehicle_charger_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.electric_vehicles" class="md-nav__link">
    electric_vehicles()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.fix_plans" class="md-nav__link">
    fix_plans()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.legs_df" class="md-nav__link">
    legs_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.people" class="md-nav__link">
    people()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.pickle" class="md-nav__link">
    pickle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.plans" class="md-nav__link">
    plans()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.plot_travel_plotly" class="md-nav__link">
    plot_travel_plotly()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.print" class="md-nav__link">
    print()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.random_household" class="md-nav__link">
    random_household()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.random_person" class="md-nav__link">
    random_person()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.reindex" class="md-nav__link">
    reindex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.sample_locs" class="md-nav__link">
    sample_locs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.sample_locs_complex" class="md-nav__link">
    sample_locs_complex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.to_csv" class="md-nav__link">
    to_csv()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.trips_df" class="md-nav__link">
    trips_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.vehicle_types" class="md-nav__link">
    vehicle_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pam.core.Population.vehicles" class="md-nav__link">
    vehicles()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>pam.core</h1>

<div class="doc doc-object doc-module">


<a id="pam.core"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="pam.core.Household" class="doc doc-heading">
<code class="highlight language-python"><span class="n">Household</span><span class="p">(</span><span class="n">hid</span><span class="p">,</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">freq</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">area</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">loc</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

<a href="#pam.core.Household" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">



          <details class="quote">
            <summary>Source code in <code>pam/core.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">hid</span><span class="p">,</span>
    <span class="n">attributes</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">freq</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">area</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">loc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hid</span> <span class="o">=</span> <span class="n">hid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">people</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="n">attributes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hh_freq</span> <span class="o">=</span> <span class="n">freq</span>
    <span class="k">if</span> <span class="n">location</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_location</span> <span class="o">=</span> <span class="n">location</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_location</span> <span class="o">=</span> <span class="n">Location</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">area</span><span class="p">:</span>  <span class="c1"># potential overwrite</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_location</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="n">area</span>
    <span class="k">if</span> <span class="n">loc</span><span class="p">:</span>  <span class="c1"># potential overwrite</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_location</span><span class="o">.</span><span class="n">loc</span> <span class="o">=</span> <span class="n">loc</span>
</code></pre></div></td></tr></table></div>
          </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.activities" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activities</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Household.activities" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.activity_classes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activity_classes</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Household.activity_classes" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.attributes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">attributes</span> <span class="o">=</span> <span class="n">attributes</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Household.attributes" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.av_person_freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">av_person_freq</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Household.av_person_freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">freq</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Household.freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Return hh_freq, else if None, return the average frequency of household members.
TODO: note this assumes we are basing hh freq on person freq.
TODO: replace this with something better.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.hh_freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">hh_freq</span> <span class="o">=</span> <span class="n">freq</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Household.hh_freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.hid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">hid</span> <span class="o">=</span> <span class="n">hid</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Household.hid" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.legs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">legs</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Household.legs" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.location" class="doc doc-heading">
<code class="highlight language-python"><span class="n">location</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Household.location" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.logger" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#pam.core.Household.logger" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.mode_classes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mode_classes</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Household.mode_classes" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.people" class="doc doc-heading">
<code class="highlight language-python"><span class="n">people</span> <span class="o">=</span> <span class="p">{}</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Household.people" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Household.subpopulation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">subpopulation</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Household.subpopulation" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>



<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.add" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add</span><span class="p">(</span><span class="n">person</span><span class="p">)</span></code>

<a href="#pam.core.Household.add" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">person</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">person</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="n">Person</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">[</span><span class="n">person</span><span class="o">.</span><span class="n">pid</span><span class="p">]</span> <span class="o">=</span> <span class="n">person</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">UserWarning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected instance of Person, not: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">person</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.build_travel_geodataframe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_travel_geodataframe</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span></code>

<a href="#pam.core.Household.build_travel_geodataframe" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Builds geopandas.GeoDataFrame for travel Legs found for agents within a Household</p>

  <p><strong>Keyword arguments for pam.plot.plans.build_person_travel_geodataframe</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>from_epsg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>coordinate system the plans are currently in</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>to_epsg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>coordinate system you want the geo dataframe to be projected to, optional, you need to specify
from_epsg as well to use this.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="geopandas">gpd</span>.<span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>geopandas.GeoDataFrame:  with columns for household id (hid) and person id (pid)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build_travel_geodataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds geopandas.GeoDataFrame for travel Legs found for agents within a Household</span>
<span class="sd">    Keyword Args: Keyword arguments for pam.plot.plans.build_person_travel_geodataframe</span>
<span class="sd">        from_epsg (str): coordinate system the plans are currently in</span>
<span class="sd">        to_epsg (str): coordinate system you want the geo dataframe to be projected to, optional, you need to specify</span>
<span class="sd">            from_epsg as well to use this.</span>
<span class="sd">    Returns:</span>
<span class="sd">        geopandas.GeoDataFrame:  with columns for household id (hid) and person id (pid)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gdf</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">_gdf</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">build_travel_geodataframe</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">_gdf</span><span class="p">[</span><span class="s2">&quot;hid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hid</span>
        <span class="k">if</span> <span class="n">gdf</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">gdf</span> <span class="o">=</span> <span class="n">_gdf</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">gdf</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_gdf</span><span class="p">)</span>
    <span class="n">gdf</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;pid&quot;</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">gdf</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.fix_plans" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fix_plans</span><span class="p">(</span><span class="n">crop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">times</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">locations</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span></code>

<a href="#pam.core.Household.fix_plans" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fix_plans</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">times</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">locations</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">crop</span><span class="p">:</span>
            <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">crop</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">times</span><span class="p">:</span>
            <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">fix_time_consistency</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">locations</span><span class="p">:</span>
            <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">fix_location_consistency</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.get" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

<a href="#pam.core.Household.get" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">697</span>
<span class="normal">698</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.get_attribute" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_attribute</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">set</span></code>

<a href="#pam.core.Household.get_attribute" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Get set of attribute values for given key, First searches hh attributes then occupants.</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">set</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get set of attribute values for given key, First searches hh attributes then occupants.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="n">key</span><span class="p">]}</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">attributes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">attributes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">attributes</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.pickle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pickle</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

<a href="#pam.core.Household.pickle" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pickle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.plot" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#pam.core.Household.plot" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">880</span>
<span class="normal">881</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">plot_household</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.plot_travel_plotly" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot_travel_plotly</span><span class="p">(</span><span class="n">epsg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;epsg:4326&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#pam.core.Household.plot_travel_plotly" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Uses plotly's Scattermapbox to plot agents' travel</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>epsg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>coordinate system the plans spatial information is in, e.g. 'epsg:27700'</p>
            </div>
          </td>
          <td>
                <code>&#39;epsg:4326&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Keyword arguments for plot.plot_travel_plans</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>gdf</code></td>
          <td>
                <code>geopandas.<span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>generated by build_person_travel_geodataframe</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>groupby</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>optional argument for splitting traces in the plot</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>colour_by</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>argument for specifying what the colour should correspond to in the plot, travel mode by default</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>cmap</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>optional argument, useful to pass if generating a number of plots and want to keep colour scheme consistent</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>mapbox_access_token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>required to generate the plot (see https://docs.mapbox.com/help/how-mapbox-works/access-tokens/)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_travel_plotly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epsg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;epsg:4326&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Uses plotly&#39;s Scattermapbox to plot agents&#39; travel</span>
<span class="sd">    Args:</span>
<span class="sd">        epsg (str): coordinate system the plans spatial information is in, e.g. &#39;epsg:27700&#39;</span>
<span class="sd">    Keyword Args: Keyword arguments for plot.plot_travel_plans</span>
<span class="sd">        gdf (geopandas.GeoDataFrame): generated by build_person_travel_geodataframe</span>
<span class="sd">        groupby (list): optional argument for splitting traces in the plot</span>
<span class="sd">        colour_by (str): argument for specifying what the colour should correspond to in the plot, travel mode by default</span>
<span class="sd">        cmap (dict): optional argument, useful to pass if generating a number of plots and want to keep colour scheme consistent</span>
<span class="sd">        mapbox_access_token (str): required to generate the plot (see https://docs.mapbox.com/help/how-mapbox-works/access-tokens/)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">plot</span><span class="o">.</span><span class="n">plot_travel_plans</span><span class="p">(</span>
        <span class="n">gdf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">build_travel_geodataframe</span><span class="p">(</span><span class="n">from_epsg</span><span class="o">=</span><span class="n">epsg</span><span class="p">,</span> <span class="n">to_epsg</span><span class="o">=</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">),</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.print" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">print</span><span class="p">()</span></code>

<a href="#pam.core.Household.print" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">person</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.random_person" class="doc doc-heading">
<code class="highlight language-python"><span class="n">random_person</span><span class="p">()</span></code>

<a href="#pam.core.Household.random_person" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">700</span>
<span class="normal">701</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">random_person</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">))]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.reindex" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reindex</span><span class="p">(</span><span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

<a href="#pam.core.Household.reindex" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Safely reindex all person identifiers in household using a prefix.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>prefix</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Prefix to add.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reindex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Safely reindex all person identifiers in household using a prefix.</span>
<span class="sd">    Args:</span>
<span class="sd">        prefix (str): Prefix to add.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hid</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">hid</span>
    <span class="k">for</span> <span class="n">pid</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">):</span>
        <span class="n">person</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">[</span><span class="n">pid</span><span class="p">]</span>
        <span class="n">new_pid</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">pid</span>
        <span class="k">if</span> <span class="n">new_pid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate person identifier (pid): </span><span class="si">{</span><span class="n">new_pid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">person</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">[</span><span class="n">new_pid</span><span class="p">]</span> <span class="o">=</span> <span class="n">person</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">[</span><span class="n">pid</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.set_area" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_area</span><span class="p">(</span><span class="n">area</span><span class="p">)</span></code>

<a href="#pam.core.Household.set_area" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">area</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_location</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="n">area</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">person</span><span class="o">.</span><span class="n">set_area</span><span class="p">(</span><span class="n">area</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.set_freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_freq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span></code>

<a href="#pam.core.Household.set_freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">833</span>
<span class="normal">834</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hh_freq</span> <span class="o">=</span> <span class="n">freq</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.set_loc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_loc</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span></code>

<a href="#pam.core.Household.set_loc" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">loc</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_location</span><span class="o">.</span><span class="n">loc</span> <span class="o">=</span> <span class="n">loc</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">person</span><span class="o">.</span><span class="n">set_loc</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.set_location" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_location</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="n">Location</span><span class="p">)</span></code>

<a href="#pam.core.Household.set_location" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Set both hh and person home_location, but note that hhs and
their persons do not share location object.</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_location</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="n">Location</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set both hh and person home_location, but note that hhs and</span>
<span class="sd">    their persons do not share location object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_location</span> <span class="o">=</span> <span class="n">location</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">person</span><span class="o">.</span><span class="n">set_location</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.shared_activities" class="doc doc-heading">
<code class="highlight language-python"><span class="n">shared_activities</span><span class="p">()</span></code>

<a href="#pam.core.Household.shared_activities" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">shared_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">shared_activities</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">household_activities</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">pid</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">person</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">activity</span><span class="o">.</span><span class="n">isin_exact</span><span class="p">(</span><span class="n">household_activities</span><span class="p">):</span>
                <span class="n">shared_activities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">activity</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">activity</span><span class="o">.</span><span class="n">isin_exact</span><span class="p">(</span><span class="n">household_activities</span><span class="p">):</span>
                <span class="n">household_activities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">activity</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">shared_activities</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Household.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">()</span></code>

<a href="#pam.core.Household.size" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">877</span>
<span class="normal">878</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pam.core.Person" class="doc doc-heading">
<code class="highlight language-python"><span class="n">Person</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">freq</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">home_location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">home_area</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">home_loc</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">vehicle</span><span class="p">:</span> <span class="n">Vehicle</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

<a href="#pam.core.Person" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">



          <details class="quote">
            <summary>Source code in <code>pam/core.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pid</span><span class="p">,</span>
    <span class="n">freq</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">attributes</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">home_location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">home_area</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">home_loc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">vehicle</span><span class="p">:</span> <span class="n">Vehicle</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">person_freq</span> <span class="o">=</span> <span class="n">freq</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="n">attributes</span>
    <span class="k">if</span> <span class="n">home_location</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">home_location</span> <span class="o">=</span> <span class="n">home_location</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">home_location</span> <span class="o">=</span> <span class="n">Location</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">home_area</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">home_location</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="n">home_area</span>
    <span class="k">if</span> <span class="n">home_loc</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">home_location</span><span class="o">.</span><span class="n">loc</span> <span class="o">=</span> <span class="n">home_loc</span>
    <span class="c1"># person and their plan share Location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">Plan</span><span class="p">(</span><span class="n">home_location</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">home_location</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plans_non_selected</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vehicle</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">vehicle</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assign_vehicle</span><span class="p">(</span><span class="n">vehicle</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.activities" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activities</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.activities" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.activity_classes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activity_classes</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.activity_classes" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.acts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">acts</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.acts" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.attributes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">attributes</span> <span class="o">=</span> <span class="n">attributes</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Person.attributes" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.av_activity_freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">av_activity_freq</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.av_activity_freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.av_trip_freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">av_trip_freq</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.av_trip_freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.closed_plan" class="doc doc-heading">
<code class="highlight language-python"><span class="n">closed_plan</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.closed_plan" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Check if plan starts and stops at the same facility (based on activity and location)
:return: Bool</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.first_activity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">first_activity</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.first_activity" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">freq</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Return person_freq, else if None, return the average frequency of legs.
TODO consider passing parent hh on creation so that we can retrieve hh freq if required.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.has_valid_plan" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_valid_plan</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.has_valid_plan" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Check sequence of Activities and Legs.
:return: True</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.home" class="doc doc-heading">
<code class="highlight language-python"><span class="n">home</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.home" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.home_based" class="doc doc-heading">
<code class="highlight language-python"><span class="n">home_based</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.home_based" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.home_location" class="doc doc-heading">
<code class="highlight language-python"><span class="n">home_location</span> <span class="o">=</span> <span class="n">home_location</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Person.home_location" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.last_activity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">last_activity</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.last_activity" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.last_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">last_component</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.last_component" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.last_leg" class="doc doc-heading">
<code class="highlight language-python"><span class="n">last_leg</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.last_leg" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.legs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">legs</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.legs" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.length" class="doc doc-heading">
<code class="highlight language-python"><span class="n">length</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.length" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.logger" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

<a href="#pam.core.Person.logger" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.mode_classes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mode_classes</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.mode_classes" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.num_activities" class="doc doc-heading">
<code class="highlight language-python"><span class="n">num_activities</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.num_activities" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.num_legs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">num_legs</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.num_legs" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.person_freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">person_freq</span> <span class="o">=</span> <span class="n">freq</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Person.person_freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.pid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pid</span> <span class="o">=</span> <span class="n">pid</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Person.pid" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.plan" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plan</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">Plan</span><span class="p">(</span><span class="n">home_location</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">home_location</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Person.plan" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.plans_non_selected" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plans_non_selected</span> <span class="o">=</span> <span class="p">[]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Person.plans_non_selected" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.subpopulation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">subpopulation</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Person.subpopulation" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Person.vehicle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vehicle</span> <span class="o">=</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Person.vehicle" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>



<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.add" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#pam.core.Person.add" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Safely add a new component to the plan.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>p</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>component to add</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Safely add a new component to the plan.</span>
<span class="sd">    Args:</span>
<span class="sd">        p (Any): component to add</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.assign_vehicle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">assign_vehicle</span><span class="p">(</span><span class="n">vehicle</span><span class="p">:</span> <span class="n">Vehicle</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#pam.core.Person.assign_vehicle" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Give a Vehicle or ElectricVehicle to an agent.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>vehicle</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pam.vehicle.Vehicle" href="../vehicle/#pam.vehicle.Vehicle">Vehicle</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">assign_vehicle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vehicle</span><span class="p">:</span> <span class="n">Vehicle</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Give a Vehicle or ElectricVehicle to an agent.</span>
<span class="sd">    Args:</span>
<span class="sd">        vehicle (Vehicle):</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">vehicle</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PAMVehicleIdError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Vehicle with ID: </span><span class="si">{</span><span class="n">vehicle</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> does not match Person ID: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vehicle</span> <span class="o">=</span> <span class="n">vehicle</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.build_travel_geodataframe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_travel_geodataframe</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span></code>

<a href="#pam.core.Person.build_travel_geodataframe" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Builds geopandas.GeoDataFrame for Person's Legs</p>

  <p><strong>Keyword arguments for plot.build_person_travel_geodataframe,</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>from_epsg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>coordinate system the plans are currently in</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>to_epsg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>coordinate system you want the geo dataframe to be projected to, optional, you need to specify from_epsg as well to use this.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="geopandas">gpd</span>.<span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>geopandas.GeoDataFrame: columns for person id (pid)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build_travel_geodataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds geopandas.GeoDataFrame for Person&#39;s Legs</span>
<span class="sd">    Keyword Args: Keyword arguments for plot.build_person_travel_geodataframe,</span>
<span class="sd">        from_epsg (str): coordinate system the plans are currently in</span>
<span class="sd">        to_epsg (str): coordinate system you want the geo dataframe to be projected to, optional, you need to specify from_epsg as well to use this.</span>
<span class="sd">    Returns:</span>
<span class="sd">        geopandas.GeoDataFrame: columns for person id (pid)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">plot</span><span class="o">.</span><span class="n">build_person_travel_geodataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.clear_plan" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clear_plan</span><span class="p">()</span></code>

<a href="#pam.core.Person.clear_plan" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1237</span>
<span class="normal">1238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">clear_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.fill_plan" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fill_plan</span><span class="p">(</span><span class="n">p_idx</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">s_idx</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;home&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

<a href="#pam.core.Person.fill_plan" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Fill a plan after Activity has been removed.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>p_idx</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>location of previous Activity</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>s_idx</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>location of subsequent Activity</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>default</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Defaults to "home"</p>
            </div>
          </td>
          <td>
                <code>&#39;home&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fill_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p_idx</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">s_idx</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;home&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fill a plan after Activity has been removed.</span>
<span class="sd">    Args:</span>
<span class="sd">        p_idx (Any): location of previous Activity</span>
<span class="sd">        s_idx (Any): location of subsequent Activity</span>
<span class="sd">        default (str, optional): Defaults to &quot;home&quot;</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">fill_plan</span><span class="p">(</span><span class="n">p_idx</span><span class="p">,</span> <span class="n">s_idx</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.finalise" class="doc doc-heading">
<code class="highlight language-python"><span class="n">finalise</span><span class="p">()</span></code>

<a href="#pam.core.Person.finalise" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Add activity end times based on start time of next activity.</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">finalise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add activity end times based on start time of next activity.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">finalise_activity_end_times</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.fix_plan" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fix_plan</span><span class="p">(</span><span class="n">crop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">times</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">locations</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span></code>

<a href="#pam.core.Person.fix_plan" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fix_plan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">times</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">locations</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">crop</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">crop</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">times</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">fix_time_consistency</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">locations</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">fix_location_consistency</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.move_activity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">move_activity</span><span class="p">(</span><span class="n">seq</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="n">new_mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;walk&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#pam.core.Person.move_activity" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Move an activity from plan at given seq to default location.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>seq</code></td>
          <td>
                <code><span title="typing.Any">Any</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>default</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>'home' or pam.activity.Location.
Defaults to "home".</p>
            </div>
          </td>
          <td>
                <code>&#39;home&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>new_mode</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>access/egress journey switching to this mode. Ie 'walk'.
Defaults to "walk".</p>
            </div>
          </td>
          <td>
                <code>&#39;walk&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">move_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seq</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;home&quot;</span><span class="p">,</span> <span class="n">new_mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;walk&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Move an activity from plan at given seq to default location.</span>
<span class="sd">    Args:</span>
<span class="sd">        seq (Any):</span>
<span class="sd">        default (str, optional):</span>
<span class="sd">            &#39;home&#39; or pam.activity.Location.</span>
<span class="sd">            Defaults to &quot;home&quot;.</span>
<span class="sd">        new_mode (str, optional):</span>
<span class="sd">            access/egress journey switching to this mode. Ie &#39;walk&#39;.</span>
<span class="sd">            Defaults to &quot;walk&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">move_activity</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">new_mode</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.pickle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pickle</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

<a href="#pam.core.Person.pickle" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pickle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.plot" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#pam.core.Person.plot" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1245</span>
<span class="normal">1246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">plot_person</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.plot_travel_plotly" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot_travel_plotly</span><span class="p">(</span><span class="n">epsg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;epsg:4326&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span></code>

<a href="#pam.core.Person.plot_travel_plotly" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Uses plotly's Scattermapbox to plot agents' travel.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>epsg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>coordinate system the plans spatial information is in, e.g. 'epsg:27700'. Defaults to "epsg:4326".</p>
            </div>
          </td>
          <td>
                <code>&#39;epsg:4326&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Keyword arguments for plot.plot_travel_plans</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>gdf</code></td>
          <td>
                <code>geopandas.<span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>generated by build_person_travel_geodataframe</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>groupby</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>optional argument for splitting traces in the plot</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>colour_by</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>argument for specifying what the colour should correspond to in the plot, travel mode by default</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>cmap</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>optional argument, useful to pass if generating a number of plots and want to keep colour scheme consistent</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>mapbox_access_token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>required to generate the plot (see https://docs.mapbox.com/help/how-mapbox-works/access-tokens/)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="plotly.graph_objs">go</span>.<span title="plotly.graph_objs.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>go.Figure: Plotly figure object</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_travel_plotly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epsg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;epsg:4326&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Uses plotly&#39;s Scattermapbox to plot agents&#39; travel.</span>

<span class="sd">    Args:</span>
<span class="sd">        epsg (str, optional): coordinate system the plans spatial information is in, e.g. &#39;epsg:27700&#39;. Defaults to &quot;epsg:4326&quot;.</span>
<span class="sd">    Keyword Args: Keyword arguments for plot.plot_travel_plans</span>
<span class="sd">        gdf (geopandas.GeoDataFrame): generated by build_person_travel_geodataframe</span>
<span class="sd">        groupby (list): optional argument for splitting traces in the plot</span>
<span class="sd">        colour_by (str): argument for specifying what the colour should correspond to in the plot, travel mode by default</span>
<span class="sd">        cmap (dict): optional argument, useful to pass if generating a number of plots and want to keep colour scheme consistent</span>
<span class="sd">        mapbox_access_token (str): required to generate the plot (see https://docs.mapbox.com/help/how-mapbox-works/access-tokens/)</span>
<span class="sd">    Returns:</span>
<span class="sd">        go.Figure: Plotly figure object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">plot</span><span class="o">.</span><span class="n">plot_travel_plans</span><span class="p">(</span>
        <span class="n">gdf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">build_travel_geodataframe</span><span class="p">(</span><span class="n">from_epsg</span><span class="o">=</span><span class="n">epsg</span><span class="p">,</span> <span class="n">to_epsg</span><span class="o">=</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">),</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.print" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">print</span><span class="p">()</span></code>

<a href="#pam.core.Person.print" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.reindex" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reindex</span><span class="p">(</span><span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

<a href="#pam.core.Person.reindex" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1248</span>
<span class="normal">1249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reindex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.remove_activity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_activity</span><span class="p">(</span><span class="n">seq</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span></code>

<a href="#pam.core.Person.remove_activity" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Remove an activity from plan at given seq.
Check for wrapped removal.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>seq</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>tuple</code></td>          <td>
                <code>tuple</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>(adjusted) idx of previous and subsequent activities as a tuple</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seq</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove an activity from plan at given seq.</span>
<span class="sd">    Check for wrapped removal.</span>

<span class="sd">    Args:</span>
<span class="sd">        seq (int):</span>
<span class="sd">    Returns:</span>
<span class="sd">        tuple: (adjusted) idx of previous and subsequent activities as a tuple</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">remove_activity</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.set_area" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_area</span><span class="p">(</span><span class="n">area</span><span class="p">)</span></code>

<a href="#pam.core.Person.set_area" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">area</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">home_location</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="n">area</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">home_location</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="n">area</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.set_freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_freq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span></code>

<a href="#pam.core.Person.set_freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1004</span>
<span class="normal">1005</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">person_freq</span> <span class="o">=</span> <span class="n">freq</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.set_loc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_loc</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span></code>

<a href="#pam.core.Person.set_loc" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_loc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">loc</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">home_location</span><span class="o">.</span><span class="n">loc</span> <span class="o">=</span> <span class="n">loc</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">home_location</span><span class="o">.</span><span class="n">loc</span> <span class="o">=</span> <span class="n">loc</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.set_location" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_location</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="n">Location</span><span class="p">)</span></code>

<a href="#pam.core.Person.set_location" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_location</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="n">Location</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">home_location</span> <span class="o">=</span> <span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">home_location</span> <span class="o">=</span> <span class="n">location</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.stay_at_home" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stay_at_home</span><span class="p">()</span></code>

<a href="#pam.core.Person.stay_at_home" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1323</span>
<span class="normal">1324</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">stay_at_home</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">stay_at_home</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">()</span></code>

<a href="#pam.core.Person.validate" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Validate plan.</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate plan.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.validate_locations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_locations</span><span class="p">()</span></code>

<a href="#pam.core.Person.validate_locations" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Check sequence of Activity and Leg locations.
:return: True</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_locations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check sequence of Activity and Leg locations.</span>
<span class="sd">    :return: True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">valid_locations</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PAMValidationLocationsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Person </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2"> has invalid plan locations&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.validate_sequence" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_sequence</span><span class="p">()</span></code>

<a href="#pam.core.Person.validate_sequence" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Check sequence of Activities and Legs.
:return: True</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check sequence of Activities and Legs.</span>
<span class="sd">    :return: True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">valid_sequence</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PAMSequenceValidationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Person </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2"> has invalid plan sequence&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Person.validate_times" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_times</span><span class="p">()</span></code>

<a href="#pam.core.Person.validate_times" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Check sequence of Activity and Leg times.
:return: True</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_times</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check sequence of Activity and Leg times.</span>
<span class="sd">    :return: True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">valid_time_sequence</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PAMInvalidTimeSequenceError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Person </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2"> has invalid plan times&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pam.core.Population" class="doc doc-heading">
<code class="highlight language-python"><span class="n">Population</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#pam.core.Population" class="headerlink" title="Permanent link">#</a></h2>


  <div class="doc doc-contents ">


  

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of population. Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>pam/core.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str, optional): Name of population. Defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">households</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
          </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.activity_classes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activity_classes</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.activity_classes" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.attributes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">attributes</span><span class="p">:</span> <span class="nb">dict</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.attributes" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.freq" class="doc doc-heading">
<code class="highlight language-python"><span class="n">freq</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.freq" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.has_electric_vehicles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_electric_vehicles</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.has_electric_vehicles" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.has_uniquely_indexed_vehicle_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_uniquely_indexed_vehicle_types</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.has_uniquely_indexed_vehicle_types" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.has_vehicles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_vehicles</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.has_vehicles" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.households" class="doc doc-heading">
<code class="highlight language-python"><span class="n">households</span> <span class="o">=</span> <span class="p">{}</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Population.households" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.logger" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Population.logger" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.mode_classes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mode_classes</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.mode_classes" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span> <span class="o">=</span> <span class="n">name</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#pam.core.Population.name" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.num_households" class="doc doc-heading">
<code class="highlight language-python"><span class="n">num_households</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.num_households" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.population" class="doc doc-heading">
<code class="highlight language-python"><span class="n">population</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.population" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.size" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.stats" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stats</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.stats" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pam.core.Population.subpopulations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">subpopulations</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#pam.core.Population.subpopulations" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  </div>

</div>



<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.add" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add</span><span class="p">(</span><span class="n">target</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Household</span><span class="p">,</span> <span class="n">Person</span><span class="p">,</span> <span class="nb">list</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#pam.core.Population.add" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Add houeshold/person, or a list of households/persons to the population</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>target</code></td>
          <td>
                <code>list[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="pam.core.Household" href="#pam.core.Household">Household</a>, <a class="autorefs autorefs-internal" title="pam.core.Person" href="#pam.core.Person">Person</a>, list]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Can be any arbitrary nesting of lists, as long as the deepest nesting includes only Houeshold and Person objects</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>UserWarning</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Only Household and Person objects allowed</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Household</span><span class="p">,</span> <span class="n">Person</span><span class="p">,</span> <span class="nb">list</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add houeshold/person, or a list of households/persons to the population</span>

<span class="sd">    Args:</span>
<span class="sd">        target (list[Union[Household, Person, list]]):</span>
<span class="sd">            Can be any arbitrary nesting of lists, as long as the deepest nesting includes only Houeshold and Person objects</span>

<span class="sd">    Raises:</span>
<span class="sd">        UserWarning: Only Household and Person objects allowed</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">hh</span> <span class="ow">in</span> <span class="n">target</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">hh</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">Household</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="p">[</span><span class="n">target</span><span class="o">.</span><span class="n">hid</span><span class="p">]</span> <span class="o">=</span> <span class="n">target</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">Person</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="s2">&quot;Directly adding a Person to a Population requires a Household.&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;Auto creating a household </span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2"> for person </span><span class="si">{</span><span class="n">target</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">, check this is intended.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Household</span><span class="p">(</span><span class="n">hid</span><span class="o">=</span><span class="n">target</span><span class="o">.</span><span class="n">pid</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="p">[</span><span class="n">target</span><span class="o">.</span><span class="n">pid</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">UserWarning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Expected instance of Household, list or Person, not: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">target</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.add_fields" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_fields</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#pam.core.Population.add_fields" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>add extra fields used for benchmarking in place.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>df</code></td>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">add_fields</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;add extra fields used for benchmarking in place.</span>

<span class="sd">    Args:</span>
<span class="sd">        df (pd.DataFrame):</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;personhrs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;freq&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">60</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;departure_hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">tst</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;arrival_hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">tet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;euclidean_distance_category&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span>
        <span class="n">df</span><span class="o">.</span><span class="n">euclidean_distance</span><span class="p">,</span>
        <span class="n">bins</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">999999</span><span class="p">],</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span>
            <span class="s2">&quot;0 to 1 km&quot;</span><span class="p">,</span>
            <span class="s2">&quot;1 to 5 km&quot;</span><span class="p">,</span>
            <span class="s2">&quot;5 to 10 km&quot;</span><span class="p">,</span>
            <span class="s2">&quot;10 to 25 km&quot;</span><span class="p">,</span>
            <span class="s2">&quot;25 to 50 km&quot;</span><span class="p">,</span>
            <span class="s2">&quot;50 to 100 km&quot;</span><span class="p">,</span>
            <span class="s2">&quot;100 to 200 km&quot;</span><span class="p">,</span>
            <span class="s2">&quot;200+ km&quot;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;duration_category&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span>
        <span class="n">df</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span>
        <span class="n">bins</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">999999</span><span class="p">],</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span>
            <span class="s2">&quot;0 to 5 min&quot;</span><span class="p">,</span>
            <span class="s2">&quot;5 to 10 min&quot;</span><span class="p">,</span>
            <span class="s2">&quot;10 to 15 min&quot;</span><span class="p">,</span>
            <span class="s2">&quot;15 to 30 min&quot;</span><span class="p">,</span>
            <span class="s2">&quot;30 to 45 min&quot;</span><span class="p">,</span>
            <span class="s2">&quot;45 to 60 min&quot;</span><span class="p">,</span>
            <span class="s2">&quot;60 to 90 min&quot;</span><span class="p">,</span>
            <span class="s2">&quot;90 to 120 min&quot;</span><span class="p">,</span>
            <span class="s2">&quot;120+ min&quot;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.build_travel_geodataframe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_travel_geodataframe</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span></code>

<a href="#pam.core.Population.build_travel_geodataframe" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Builds geopandas.GeoDataFrame for travel Legs found for all agents in the Population.</p>

  <p><strong>Keyword arguments for plot.build_person_travel_geodataframe.</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>from_epsg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>coordinate system the plans are currently in</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>to_epsg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>coordinate system you want the geo dataframe to be projected to, optional, you need to specify from_epsg as well to use this.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="geopandas">gpd</span>.<span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>geopandas.GeoDataFrame:  with columns for household id (hid) and person id (pid)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build_travel_geodataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds geopandas.GeoDataFrame for travel Legs found for all agents in the Population.</span>

<span class="sd">    Keyword Args: Keyword arguments for plot.build_person_travel_geodataframe.</span>
<span class="sd">        from_epsg (str): coordinate system the plans are currently in</span>
<span class="sd">        to_epsg (str): coordinate system you want the geo dataframe to be projected to, optional, you need to specify from_epsg as well to use this.</span>

<span class="sd">    Returns:</span>
<span class="sd">        geopandas.GeoDataFrame:  with columns for household id (hid) and person id (pid)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">gdf</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">hid</span><span class="p">,</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">_gdf</span> <span class="o">=</span> <span class="n">household</span><span class="o">.</span><span class="n">build_travel_geodataframe</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">gdf</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">gdf</span> <span class="o">=</span> <span class="n">_gdf</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">gdf</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_gdf</span><span class="p">)</span>
    <span class="n">gdf</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;hid&quot;</span><span class="p">,</span> <span class="s2">&quot;pid&quot;</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">gdf</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.combine" class="doc doc-heading">
<code class="highlight language-python"><span class="n">combine</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">prefix</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span></code>

<a href="#pam.core.Population.combine" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Safe addition with assignment by adding a prefix to create unique pids and hids.</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">combine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Safe addition with assignment by adding a prefix to create unique pids and hids.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Population</span><span class="p">):</span>
        <span class="n">other</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">+=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Household</span><span class="p">):</span>
        <span class="n">other</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">+=</span> <span class="n">other</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Person</span><span class="p">):</span>
        <span class="n">hh</span> <span class="o">=</span> <span class="n">Household</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>  <span class="c1"># we create a new hh for single person</span>
        <span class="n">hh</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="n">hh</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="bp">self</span> <span class="o">+=</span> <span class="n">hh</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Object for addition must be a Population Household or Person object, not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.electric_vehicle_charger_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">electric_vehicle_charger_types</span><span class="p">()</span></code>

<a href="#pam.core.Population.electric_vehicle_charger_types" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">electric_vehicle_charger_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">chargers</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">electric_vehicles</span><span class="p">():</span>
        <span class="n">chargers</span> <span class="o">|=</span> <span class="nb">set</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">charger_types</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">chargers</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.electric_vehicles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">electric_vehicles</span><span class="p">()</span></code>

<a href="#pam.core.Population.electric_vehicles" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">electric_vehicles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vehicles</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">ElectricVehicle</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.fix_plans" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fix_plans</span><span class="p">(</span><span class="n">crop</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">times</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">locations</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span></code>

<a href="#pam.core.Population.fix_plans" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fix_plans</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crop</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">times</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">locations</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">crop</span><span class="p">:</span>
            <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">crop</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">times</span><span class="p">:</span>
            <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">fix_time_consistency</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">locations</span><span class="p">:</span>
            <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">fix_location_consistency</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.get" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="n">hid</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

<a href="#pam.core.Population.get" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hid</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">hid</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.legs_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">legs_df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span></code>

<a href="#pam.core.Population.legs_df" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Extract tabular record of population legs.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>pd.DataFrame: record of legs</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">legs_df</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Extract tabular record of population legs.</span>

<span class="sd">    Returns: </span>
<span class="sd">        pd.DataFrame: record of legs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">hid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">seq</span><span class="p">,</span> <span class="n">leg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">legs</span><span class="p">):</span>
            <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;pid&quot;</span><span class="p">:</span> <span class="n">pid</span><span class="p">,</span>
                <span class="s2">&quot;hid&quot;</span><span class="p">:</span> <span class="n">hid</span><span class="p">,</span>
                <span class="s2">&quot;hzone&quot;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">home</span><span class="p">,</span>
                <span class="s2">&quot;ozone&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">start_location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
                <span class="s2">&quot;dzone&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">end_location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
                <span class="s2">&quot;oloc&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span>
                <span class="s2">&quot;dloc&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">end_location</span><span class="p">,</span>
                <span class="s2">&quot;seq&quot;</span><span class="p">:</span> <span class="n">seq</span><span class="p">,</span>
                <span class="s2">&quot;purp&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">purp</span><span class="p">,</span>
                <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
                <span class="s2">&quot;tst&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">start_time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
                <span class="s2">&quot;tet&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">end_time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
                <span class="c1"># duration in minutes</span>
                <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">duration</span> <span class="o">/</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                <span class="s2">&quot;euclidean_distance&quot;</span><span class="p">:</span> <span class="n">leg</span><span class="o">.</span><span class="n">euclidean_distance</span><span class="p">,</span>
                <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">freq</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="c1"># add person attributes</span>
            <span class="n">record</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">record</span><span class="p">,</span> <span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">attributes</span><span class="p">)}</span>
            <span class="n">df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_fields</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.people" class="doc doc-heading">
<code class="highlight language-python"><span class="n">people</span><span class="p">()</span></code>

<a href="#pam.core.Population.people" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Iterator for people in poulation, returns hid, pid and Person</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">people</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iterator for people in poulation, returns hid, pid and Person</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">hid</span><span class="p">,</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">pid</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">people</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">yield</span> <span class="n">hid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">person</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.pickle" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pickle</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

<a href="#pam.core.Population.pickle" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pickle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.plans" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plans</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">Plan</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

<a href="#pam.core.Population.plans" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Iterator for plans in poulation</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plans</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">Plan</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iterator for plans in poulation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">hid</span><span class="p">,</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">pid</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">people</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">yield</span> <span class="n">person</span><span class="o">.</span><span class="n">plan</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.plot_travel_plotly" class="doc doc-heading">
<code class="highlight language-python"><span class="n">plot_travel_plotly</span><span class="p">(</span><span class="n">epsg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;epsg:4326&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span></code>

<a href="#pam.core.Population.plot_travel_plotly" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>epsg</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>coordinate system the plans spatial information is in, e.g. 'epsg:27700'. Defaults to "epsg:4326".</p>
            </div>
          </td>
          <td>
                <code>&#39;epsg:4326&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Keyword arguments for plot.plot_travel_plans</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>gdf</code></td>
          <td>
                <code>geopandas.<span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>geopandas.GeoDataFrame generated by build_person_travel_geodataframe</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>groupby</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>optional argument for splitting traces in the plot</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>colour_by</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>argument for specifying what the colour should correspond to in the plot, travel mode by default</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>cmap</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>optional argument, useful to pass if generating a number of plots and want to keep colour scheme consistent</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>mapbox_access_token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>required to generate the plot (see https://docs.mapbox.com/help/how-mapbox-works/access-tokens/)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="plotly.graph_objs">go</span>.<span title="plotly.graph_objs.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>go.Figure: Plotly figure object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_travel_plotly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epsg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;epsg:4326&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        epsg (str, optional): coordinate system the plans spatial information is in, e.g. &#39;epsg:27700&#39;. Defaults to &quot;epsg:4326&quot;.</span>
<span class="sd">    Keyword Args: Keyword arguments for plot.plot_travel_plans</span>
<span class="sd">        gdf (geopandas.GeoDataFrame): geopandas.GeoDataFrame generated by build_person_travel_geodataframe</span>
<span class="sd">        groupby (list): optional argument for splitting traces in the plot</span>
<span class="sd">        colour_by (str): argument for specifying what the colour should correspond to in the plot, travel mode by default</span>
<span class="sd">        cmap (dict): optional argument, useful to pass if generating a number of plots and want to keep colour scheme consistent</span>
<span class="sd">        mapbox_access_token (str): required to generate the plot (see https://docs.mapbox.com/help/how-mapbox-works/access-tokens/)</span>
<span class="sd">    Returns:</span>
<span class="sd">        go.Figure: Plotly figure object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">plot</span><span class="o">.</span><span class="n">plot_travel_plans</span><span class="p">(</span>
        <span class="n">gdf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">build_travel_geodataframe</span><span class="p">(</span><span class="n">from_epsg</span><span class="o">=</span><span class="n">epsg</span><span class="p">,</span> <span class="n">to_epsg</span><span class="o">=</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">),</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.print" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">print</span><span class="p">()</span></code>

<a href="#pam.core.Population.print" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">household</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.random_household" class="doc doc-heading">
<code class="highlight language-python"><span class="n">random_household</span><span class="p">()</span></code>

<a href="#pam.core.Population.random_household" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">random_household</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="p">))]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.random_person" class="doc doc-heading">
<code class="highlight language-python"><span class="n">random_person</span><span class="p">()</span></code>

<a href="#pam.core.Population.random_person" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">random_person</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">hh</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">random_household</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">hh</span><span class="o">.</span><span class="n">random_person</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.reindex" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reindex</span><span class="p">(</span><span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

<a href="#pam.core.Population.reindex" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Safely reindex all household and person identifiers in population using a prefix.</p>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reindex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Safely reindex all household and person identifiers in population using a prefix.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">hid</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="p">):</span>
        <span class="n">hh</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="p">[</span><span class="n">hid</span><span class="p">]</span>
        <span class="n">new_hid</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">hid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">new_hid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate household identifier (hid): </span><span class="si">{</span><span class="n">new_hid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">hh</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="p">[</span><span class="n">new_hid</span><span class="p">]</span> <span class="o">=</span> <span class="n">hh</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="p">[</span><span class="n">hid</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.sample_locs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sample_locs</span><span class="p">(</span><span class="n">sampler</span><span class="p">,</span> <span class="n">long_term_activities</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">joint_trips_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;escort_&#39;</span><span class="p">,</span> <span class="n">location_override</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span></code>

<a href="#pam.core.Population.sample_locs" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>WIP Sample household plan locs using a sampler.</p>
<p>Sampler uses activity types and areas to sample locations. Note that households share
locations for activities of the same type within the same area. Trivially this includes
household location. But also, for example, shopping activities if they are in the same area.</p>
<p>We treat escort activities (ie those prefixed by "escort_") as the escorted activity. For
example, the sampler treats "escort_education" and "education" equally. Note that this shared
activity sampling of location models shared facilities, but does not explicitly infer or
model shared transport. For example there is no consideration of if trips to shared locations
take place at the same time or from the same locations.</p>
<p>After sampling Location objects are shared between shared activity locations and corresponding
trips start and end locations. These objects are mutable, so care must be taken if making changes
as these will impact all other persons shared locations in the household. Often this behaviour
might be expected. For example if we change the location of the household home activity, all
persons and home activities are impacted.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>long_term_activities</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a list of activities for which location is only assigned once (per zone). Defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>joint_trips_prefix</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a purpose prefix used to identify escort/joint trips. Defaults to "escort_"</p>
            </div>
          </td>
          <td>
                <code>&#39;escort_&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>location_override</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if False, the facility sampler will retain any already-existing locations in the population.. Defaults to True</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sample_locs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sampler</span><span class="p">,</span>
    <span class="n">long_term_activities</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">joint_trips_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;escort_&quot;</span><span class="p">,</span>
    <span class="n">location_override</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    WIP Sample household plan locs using a sampler.</span>

<span class="sd">    Sampler uses activity types and areas to sample locations. Note that households share</span>
<span class="sd">    locations for activities of the same type within the same area. Trivially this includes</span>
<span class="sd">    household location. But also, for example, shopping activities if they are in the same area.</span>

<span class="sd">    We treat escort activities (ie those prefixed by &quot;escort_&quot;) as the escorted activity. For</span>
<span class="sd">    example, the sampler treats &quot;escort_education&quot; and &quot;education&quot; equally. Note that this shared</span>
<span class="sd">    activity sampling of location models shared facilities, but does not explicitly infer or</span>
<span class="sd">    model shared transport. For example there is no consideration of if trips to shared locations</span>
<span class="sd">    take place at the same time or from the same locations.</span>

<span class="sd">    After sampling Location objects are shared between shared activity locations and corresponding</span>
<span class="sd">    trips start and end locations. These objects are mutable, so care must be taken if making changes</span>
<span class="sd">    as these will impact all other persons shared locations in the household. Often this behaviour</span>
<span class="sd">    might be expected. For example if we change the location of the household home activity, all</span>
<span class="sd">    persons and home activities are impacted.</span>

<span class="sd">    Args:</span>
<span class="sd">        long_term_activities (list, optional): a list of activities for which location is only assigned once (per zone). Defaults to None</span>
<span class="sd">        joint_trips_prefix (str, optional): a purpose prefix used to identify escort/joint trips. Defaults to &quot;escort_&quot;</span>
<span class="sd">        location_override (bool, optional): if False, the facility sampler will retain any already-existing locations in the population.. Defaults to True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">long_term_activities</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">long_term_activities</span> <span class="o">=</span> <span class="n">variables</span><span class="o">.</span><span class="n">LONG_TERM_ACTIVITIES</span>

    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">home_loc</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">Location</span><span class="p">(</span>
            <span class="n">area</span><span class="o">=</span><span class="n">household</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
            <span class="n">loc</span><span class="o">=</span><span class="n">sampler</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">household</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="s2">&quot;home&quot;</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="n">unique_locations</span> <span class="o">=</span> <span class="p">{(</span><span class="n">household</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="s2">&quot;home&quot;</span><span class="p">):</span> <span class="n">home_loc</span><span class="p">}</span>

        <span class="k">for</span> <span class="n">__</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">people</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="n">person</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span>
                <span class="c1"># remove escort prefix from activity types.</span>
                <span class="k">if</span> <span class="n">act</span><span class="o">.</span><span class="n">act</span><span class="p">[:</span> <span class="nb">len</span><span class="p">(</span><span class="n">joint_trips_prefix</span><span class="p">)]</span> <span class="o">==</span> <span class="n">joint_trips_prefix</span><span class="p">:</span>
                    <span class="n">target_act</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">act</span><span class="p">[(</span><span class="nb">len</span><span class="p">(</span><span class="n">joint_trips_prefix</span><span class="p">))</span> <span class="p">:]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">target_act</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">act</span>

                <span class="c1"># assign any unique locations</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">target_act</span><span class="p">)</span> <span class="ow">in</span> <span class="n">unique_locations</span><span class="p">:</span>
                    <span class="n">location</span> <span class="o">=</span> <span class="n">unique_locations</span><span class="p">[(</span><span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">target_act</span><span class="p">)]</span>
                    <span class="n">act</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
                <span class="c1"># sample facility</span>
                <span class="k">elif</span> <span class="n">location_override</span> <span class="ow">or</span> <span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">loc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">location</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">Location</span><span class="p">(</span>
                        <span class="n">area</span><span class="o">=</span><span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
                        <span class="n">loc</span><span class="o">=</span><span class="n">sampler</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">target_act</span><span class="p">),</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">target_act</span> <span class="ow">in</span> <span class="n">long_term_activities</span><span class="p">:</span>
                        <span class="c1"># one location per zone for long-term choices (only)</span>
                        <span class="c1"># short-term activities, such as shopping can visit multiple locations in the same zone</span>
                        <span class="n">unique_locations</span><span class="p">[(</span><span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">target_act</span><span class="p">)]</span> <span class="o">=</span> <span class="n">location</span>
                    <span class="n">act</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>

            <span class="c1"># complete the alotting activity locations to the trip starts and ends.</span>
            <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">length</span><span class="p">):</span>
                <span class="n">component</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">Leg</span><span class="p">):</span>
                    <span class="n">component</span><span class="o">.</span><span class="n">start_location</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">location</span>
                    <span class="n">component</span><span class="o">.</span><span class="n">end_location</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="p">[</span><span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">location</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.sample_locs_complex" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sample_locs_complex</span><span class="p">(</span><span class="n">sampler</span><span class="p">,</span> <span class="n">long_term_activities</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">joint_trips_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;escort_&#39;</span><span class="p">)</span></code>

<a href="#pam.core.Population.sample_locs_complex" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Extends sample_locs method to enable more complex and rules-based sampling.
Keeps track of the last location and transport mode, to apply distance- and mode-based sampling rules.
It is generally slower than sample_locs, as it loops through both activities and legs.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>long_term_activities</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a list of activities for which location is only assigned once (per zone).
Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>joint_trips_prefix</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a purpose prefix used to identify escort/joint trips.
Defaults to "escort_".</p>
            </div>
          </td>
          <td>
                <code>&#39;escort_&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sample_locs_complex</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sampler</span><span class="p">,</span>
    <span class="n">long_term_activities</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">joint_trips_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;escort_&quot;</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extends sample_locs method to enable more complex and rules-based sampling.</span>
<span class="sd">    Keeps track of the last location and transport mode, to apply distance- and mode-based sampling rules.</span>
<span class="sd">    It is generally slower than sample_locs, as it loops through both activities and legs.</span>
<span class="sd">    Args:</span>
<span class="sd">        long_term_activities (list, optional):</span>
<span class="sd">            a list of activities for which location is only assigned once (per zone).</span>
<span class="sd">            Defaults to None.</span>
<span class="sd">        joint_trips_prefix (str, optional):</span>
<span class="sd">            a purpose prefix used to identify escort/joint trips.</span>
<span class="sd">            Defaults to &quot;escort_&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">long_term_activities</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">long_term_activities</span> <span class="o">=</span> <span class="n">variables</span><span class="o">.</span><span class="n">LONG_TERM_ACTIVITIES</span>

    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">households</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">home_loc</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">Location</span><span class="p">(</span>
            <span class="n">area</span><span class="o">=</span><span class="n">household</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
            <span class="n">loc</span><span class="o">=</span><span class="n">sampler</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span>
                <span class="n">household</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
                <span class="s2">&quot;home&quot;</span><span class="p">,</span>
                <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">previous_duration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">previous_loc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">unique_locations</span> <span class="o">=</span> <span class="p">{(</span><span class="n">household</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="s2">&quot;home&quot;</span><span class="p">):</span> <span class="n">home_loc</span><span class="p">}</span>

        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">people</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">previous_duration</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">previous_loc</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">component</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="p">):</span>
                <span class="c1"># loop through all plan elements</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">Leg</span><span class="p">):</span>
                    <span class="n">mode</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">mode</span>  <span class="c1"># keep track of last mode</span>
                    <span class="n">previous_duration</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">duration</span>

                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">Activity</span><span class="p">):</span>
                    <span class="n">act</span> <span class="o">=</span> <span class="n">component</span>

                    <span class="c1"># remove &quot;escort_&quot; from activity types.</span>
                    <span class="c1"># TODO: model joint trips</span>
                    <span class="k">if</span> <span class="n">act</span><span class="o">.</span><span class="n">act</span><span class="p">[:</span> <span class="nb">len</span><span class="p">(</span><span class="n">joint_trips_prefix</span><span class="p">)]</span> <span class="o">==</span> <span class="n">joint_trips_prefix</span><span class="p">:</span>
                        <span class="n">target_act</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">act</span><span class="p">[(</span><span class="nb">len</span><span class="p">(</span><span class="n">joint_trips_prefix</span><span class="p">))</span> <span class="p">:]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">target_act</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">act</span>

                    <span class="k">if</span> <span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">target_act</span><span class="p">)</span> <span class="ow">in</span> <span class="n">unique_locations</span><span class="p">:</span>
                        <span class="n">location</span> <span class="o">=</span> <span class="n">unique_locations</span><span class="p">[(</span><span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">target_act</span><span class="p">)]</span>
                        <span class="n">act</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>

                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">location</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">Location</span><span class="p">(</span>
                            <span class="n">area</span><span class="o">=</span><span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
                            <span class="n">loc</span><span class="o">=</span><span class="n">sampler</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span>
                                <span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
                                <span class="n">target_act</span><span class="p">,</span>
                                <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
                                <span class="n">previous_duration</span><span class="o">=</span><span class="n">previous_duration</span><span class="p">,</span>
                                <span class="n">previous_loc</span><span class="o">=</span><span class="n">previous_loc</span><span class="p">,</span>
                            <span class="p">),</span>
                        <span class="p">)</span>
                        <span class="k">if</span> <span class="n">target_act</span> <span class="ow">in</span> <span class="n">long_term_activities</span><span class="p">:</span>
                            <span class="n">unique_locations</span><span class="p">[</span>
                                <span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">target_act</span><span class="p">)</span>
                            <span class="p">]</span> <span class="o">=</span> <span class="n">location</span>
                        <span class="n">act</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>

                    <span class="n">previous_loc</span> <span class="o">=</span> <span class="n">location</span><span class="o">.</span><span class="n">loc</span>  <span class="c1"># keep track of previous location</span>

            <span class="c1"># complete the alotting activity locations to the trip starts and ends.</span>
            <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">length</span><span class="p">):</span>
                <span class="n">component</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">Leg</span><span class="p">):</span>
                    <span class="n">component</span><span class="o">.</span><span class="n">start_location</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">location</span>
                    <span class="n">component</span><span class="o">.</span><span class="n">end_location</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="p">[</span><span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">location</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.to_csv" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_csv</span><span class="p">(</span><span class="nb">dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">crs</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">to_crs</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;EPSG:4326&#39;</span><span class="p">)</span></code>

<a href="#pam.core.Population.to_csv" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">432</span>
<span class="normal">433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">to_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">to_crs</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;EPSG:4326&quot;</span><span class="p">):</span>
    <span class="n">write</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="p">,</span> <span class="n">crs</span><span class="p">,</span> <span class="n">to_crs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.trips_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">trips_df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span></code>

<a href="#pam.core.Population.trips_df" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">
  
      <p>Extract tabular record of population legs.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas">pd</span>.<span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>pd.DataFrame: record of legs</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">trips_df</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract tabular record of population legs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: record of legs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">hid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">seq</span><span class="p">,</span> <span class="n">trip</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">plan</span><span class="o">.</span><span class="n">trips</span><span class="p">()):</span>
            <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;pid&quot;</span><span class="p">:</span> <span class="n">pid</span><span class="p">,</span>
                <span class="s2">&quot;hid&quot;</span><span class="p">:</span> <span class="n">hid</span><span class="p">,</span>
                <span class="s2">&quot;hzone&quot;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">home</span><span class="p">,</span>
                <span class="s2">&quot;ozone&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">start_location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
                <span class="s2">&quot;dzone&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">end_location</span><span class="o">.</span><span class="n">area</span><span class="p">,</span>
                <span class="s2">&quot;oloc&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span>
                <span class="s2">&quot;dloc&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">end_location</span><span class="p">,</span>
                <span class="s2">&quot;seq&quot;</span><span class="p">:</span> <span class="n">seq</span><span class="p">,</span>
                <span class="s2">&quot;purp&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">purp</span><span class="p">,</span>
                <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
                <span class="s2">&quot;tst&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">start_time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
                <span class="s2">&quot;tet&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">end_time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
                <span class="c1"># duration in minutes</span>
                <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">duration</span> <span class="o">/</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                <span class="s2">&quot;euclidean_distance&quot;</span><span class="p">:</span> <span class="n">trip</span><span class="o">.</span><span class="n">euclidean_distance</span><span class="p">,</span>
                <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">freq</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="c1"># add person attributes</span>
            <span class="n">record</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">record</span><span class="p">,</span> <span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">attributes</span><span class="p">)}</span>
            <span class="n">df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_fields</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">()</span></code>

<a href="#pam.core.Population.validate" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">hid</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">person</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">():</span>
        <span class="n">person</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.vehicle_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vehicle_types</span><span class="p">()</span></code>

<a href="#pam.core.Population.vehicle_types" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">vehicle_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">v_types</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">p</span><span class="o">.</span><span class="n">vehicle</span><span class="o">.</span><span class="n">vehicle_type</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">()</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">vehicle</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="n">vt</span> <span class="ow">in</span> <span class="n">v_types</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">vt</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pam.core.Population.vehicles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vehicles</span><span class="p">()</span></code>

<a href="#pam.core.Population.vehicles" class="headerlink" title="Permanent link">#</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>pam/core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">vehicles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">people</span><span class="p">():</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">vehicle</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>